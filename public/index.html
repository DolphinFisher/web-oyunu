<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Oyuna KatÄ±l</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <div class="container">
        <!-- Oyuncu Ã‡Ä±kÄ±ÅŸ Butonu -->
        <button id="leaveLobbyBtn" class="top-right-btn hidden" onclick="leaveLobby()">Lobiden Ã‡Ä±k</button>

        <!-- GiriÅŸ EkranÄ± -->
        <div id="joinScreen" class="card">
            <h2>Oyuna KatÄ±l</h2>
            
            <div id="initialOptions">
                <p>ModeratÃ¶rÃ¼n paylaÅŸtÄ±ÄŸÄ± QR kodu okutun veya kodu manuel girin.</p>
                <div style="margin: 20px 0;">
                    <button onclick="showCodeInput()" class="secondary" style="width: 100%; margin-bottom: 10px;">ğŸ”‘ Kodla GiriÅŸ Yap</button>
                </div>
            </div>

            <div id="manualEntryArea" class="hidden">
                <input type="text" id="lobbyIdInput" placeholder="Lobi Kodu (Ã–rn: ABC123)" maxlength="6" style="text-transform: uppercase; letter-spacing: 2px; text-align: center; margin-bottom: 10px;">
                <input type="text" id="playerName" placeholder="AdÄ±nÄ±z SoyadÄ±nÄ±z" maxlength="15">
                <button onclick="joinGame()">KatÄ±l</button>
                <button onclick="cancelManualEntry()" class="danger" style="margin-top: 10px; font-size: 0.8em; padding: 5px 10px;">Ä°ptal</button>
            </div>
            
            <div style="margin-top: 20px; border-top: 1px solid rgba(255,255,255,0.1); padding-top: 15px;">
                <a href="moderator.html" style="color: var(--text-color); text-decoration: none; font-size: 0.9em; opacity: 0.7;">
                    âš™ï¸ YÃ¶netici GiriÅŸi
                </a>
            </div>
        </div>

        <!-- Bekleme EkranÄ± -->
        <div id="waitingScreen" class="card hidden">
            <h2>HazÄ±r Ol!</h2>
            <p>Oyunun baÅŸlamasÄ± bekleniyor...</p>
            <div class="loader" style="margin: 20px;">â³</div>
        </div>

        <!-- Soru EkranÄ± -->
        <div id="questionScreen" class="card hidden">
            <h3 id="questionText">Soru buraya gelecek</h3>
            <div style="margin: 20px 0;">
                <input type="text" id="answerInput" placeholder="CevabÄ±nÄ±z...">
                <button onclick="submitAnswer()">GÃ¶nder</button>
            </div>
            <p id="statusMessage" style="color: green; display: none;">CevabÄ±nÄ±z gÃ¶nderildi, bekleyiniz.</p>
        </div>

        <!-- SonuÃ§/Cevap Ä°zleme EkranÄ± -->
        <div id="resultScreen" class="card hidden">
            <h2>Cevaplar</h2>
            <div id="publicAnswers"></div>
        </div>
        
        <!-- Ã‡ark Overlay -->
        <div id="wheelOverlay" class="hidden">
             <div id="wheelContainer">
                <div class="wheel-content">
                    <h2>ÅanslÄ± KiÅŸi SeÃ§iliyor...</h2>
                    <div id="winnerDisplay" class="spinning-text">???</div>
                    <div id="selectionModeMessage" class="hidden" style="color: green; margin-top: 10px;">
                        Sen seÃ§ildin! CevabÄ±nÄ± merak ettiÄŸin bir kutuya tÄ±kla.
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Oyun Sonu -->
        <div id="gameOverScreen" class="card hidden">
            <h2>Oyun Bitti!</h2>
            <p>KatÄ±ldÄ±ÄŸÄ±nÄ±z iÃ§in teÅŸekkÃ¼rler.</p>
        </div>

        <!-- Custom Alert Modal -->
        <div id="customAlert" class="modal hidden">
            <div class="modal-content">
                <div class="modal-header">
                    <h3 id="alertTitle">Mesaj</h3>
                    <button class="menu-dots" onclick="toggleAlertMenu()">â‹®</button>
                    <!-- MenÃ¼ (Dropdown) -->
                    <div id="alertMenu" class="dropdown-menu hidden">
                        <button onclick="copyAlertMessage()">Kopyala</button>
                        <button onclick="closeAlert()">Kapat</button>
                    </div>
                </div>
                <div class="modal-body">
                    <p id="alertMessage">Ä°Ã§erik</p>
                </div>
                <div class="modal-footer">
                    <button onclick="closeAlert()" class="primary">Tamam</button>
                </div>
            </div>
        </div>

        <!-- Custom Confirm Modal -->
        <div id="customConfirm" class="modal hidden">
            <div class="modal-content">
                <div class="modal-header">
                    <h3 id="confirmTitle">Onay</h3>
                </div>
                <div class="modal-body">
                    <p id="confirmMessage">Emin misiniz?</p>
                </div>
                <div class="modal-footer">
                    <button id="confirmCancelBtn" class="danger" style="margin-right: 10px;">Ä°ptal</button>
                    <button id="confirmOkBtn" class="primary">Tamam</button>
                </div>
            </div>
        </div>

    </div>

    <!-- Socket.IO Client KÃ¼tÃ¼phanesi -->
    <script src="https://cdn.socket.io/4.7.2/socket.io.min.js"></script>
    <script>
        if (typeof io === 'undefined') {
            document.write('<script src="/socket.io/socket.io.js"><\/script>');
        }
    </script>
    
    <script src="js/player.js"></script>
</body>
</html>
